# CPP_3DViewer
Реализация приложения для просмотра 3D-моделей в каркасном виде на языке программирования С++ в парадигме объектно-ориентированного программирования.

## Содержание
- [Технологии](#технологии)
- [Использование](#использование)
- [Обзор паттернов проектирования](#обзор-паттернов-проектирования)
- [Разработка](#разработка)
- [Управление](#управление)
- [Тестирование](#тестирование)
- [Команда проекта](#команда-проекта)

## Технологии
- С++
- QMake
- GTest
- OpenGL
- lcov/gcov
- Google Style
- QT Creator version 6.2.
- Паттерны проектирования: 
    - Singleton (Парсер)
    - Facade (Фронтенд).
    - MVC

## Использование
1. Для установки проекта необходимо склонировать репозиторий `https://github.com/BalagurovaA/CPP_3DViewer`, перейти в папку `./CPP_3DViewer/src`

2. Скомпилировать и запустить проект: 
```sh
make install
```
или 
```sh
make all
```
При вводе данной команды проект компилируется, запускаются тесты, открывается html страница, отображающая покрытие тестами, создается папка build, в которой находится приложение проекта

3. Открыть документацию
```sh
make dvi
```
4. Создать архив с папкой и приложением
```sh
make dist
```
5. Удалить проект
```sh
make uninstall
```
6. Запуск unit-тестов
```sh
make test
```
7. Отображение покрытия тестами через html страницу
```sh
make gcov_report
```
8. Подготовка кода  под clang-format Google Style
```sh
make fix_clang_viewer
```
9. Проверка clang-format
```sh
make clang_check
```
10. Очистка проекта
```sh
make clean
```
11. Rebuild
```sh
make rebuild
```

### Обзор паттернов проектирования

**Паттерн проектирования** описывает часто повторяющуюся при проектировании приложений задачу и принцип ее решения, который является универсальным для этой задачи. То есть для программиста паттерн проектирования — не что иное, как строительный блок, элементарная единица, которая реализуется в случае возникновения типовой подзадачи внутри проекта.

Обычно паттерны проектирования разделяют на три группы: порождающие паттерны, структурные паттерны и паттерны поведения.

Паттерн MVC в том или ином виде является одним из самых частых решений в плане структурирования кода в ходе разработки приложений с пользовательским интерфейсом. Пользовательский интерфейс и бизнес-логику с прилежащим к ней контроллером обычно разбивают на два различных глобальных домена: домен интерфейса и домен бизнес-логики.

Домен интерфейса отвечает только за отображение интерфейса и передачу команд домену бизнес-логики. Загруженные из файла данные не должны храниться в домене интерфейса.

Домен бизнес-логики отвечает за основную функциональность системы. Именно в нем хранятся загруженные данные и выполняются все операции над ними. Также в этом домене производится отрисовка.

## Разработка

### Требования
- `gcc`
- `make`
- `gcov/lcov`
- `GTest`
-----------------

- Программа должна разработана на языке C++ стандарта C++17.
- Код программы находится в папке `./src`;
- Реализация библиотеки придерживается Google Style;
- Сборка программы настроена с помощью Makefile со стандартным набором целей для GNU-программ: all, install, uninstall, clean, dvi, dist, tests. Установка ведется в произвольный каталог.
- Программа разработана в соответствии с принципами объектно-ориентированного программирования.
- В один момент времени присутвует только одна модель на экране.

## Управление
- Подробнее об управлении можно ознакомиться в файле `./src/documentation.md`
- Программа предоставляет возможность:
    - Загружать каркасную модель из файла формата obj (поддержка только списка вершин и поверхностей);
    - Перемещать модель на заданное расстояние относительно осей X, Y, Z;
    - Поворачивать модель на заданный угол относительно своих осей X, Y, Z;
    - Масштабировать модель на заданное значение.

- В программе реализован графический пользовательский интерфейс, на базе Qt.

- Графический пользовательский интерфейс содержит:
    - Кнопку для выбора файла с моделью и поле для вывода его названия;
    - Зону визуализации каркасной модели;
    - Кнопку/кнопки и поля ввода для перемещения модели;
    - Кнопку/кнопки и поля ввода для поворота модели;
    - Кнопку/кнопки и поля ввода для масштабирования модели; 
    - Информацию о загруженной модели — название файла, кол-во вершин и ребер.
- Программа корректно обрабатывает и позволяет пользователю просматривать модели с деталями до 100, 1000, 10 000, 100 000, 1 000 000 вершин без зависания (зависание — это бездействие интерфейса более 0,5 секунды).
- Программа реализована с использованием паттерна MVC.
- Классы реализованы внутри пространства имен `s21`.

- Программа позволяет настраивать тип проекции (параллельная и центральная).
- Программа повзоляет настраивать тип (сплошная, пунктирная), цвет и толщину ребер, способ отображения (отсутствует, круг, квадрат), цвет и размер вершин.
- Программа позволяет выбирать цвет фона.
- Настройки сохраняются между перезапусками программы.

### Запись
 
- Программа позволяет сохранять полученные («отрендеренные») изображения в файл в форматах bmp и jpeg.
- Программа позволяет по специальной кнопке записывать небольшие «скринкасты» — текущие пользовательские аффинные преобразования загруженного объекта в gif-анимацию (640x480, 10fps, 5s).


## Тестирование
- Присутствует полное покрытие unit-тестами функций библиотеки c помощью библиотеки `Gtest`
- Обеспечено полное покрытие unit-тестами модулей, связанных с загрузкой моделей и аффинными преобразованиями.
- Unit-тесты покрывают около 90% каждой функции

### Причина разработки данного проекта
Учебное задание в Школе 21 от Сбера

## Команда проекта
- [Анна Б.](https://github.com/BalagurovaA): афинные преобразования, интерфейс
- [Аделина Ш.](https://github.com/llllenivka): основная часть интерфейса, сборка всего проекта
- [Амир Г.](https://github.com/keyluxy): парсер, интерфейс
